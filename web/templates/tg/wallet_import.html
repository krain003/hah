{% extends "tg/base.html" %}

{% block title %}Import Wallet - NEXUS{% endblock %}

{% block content %}
<div class="header">
    <div class="header-content">
        <div class="logo">
            <span class="logo-icon">ğŸ“¥</span>
            <span>Import Wallet</span>
        </div>
    </div>
</div>

<main class="main">
    <a href="/tg/wallet" class="back-link">â† Back</a>
    
    {% if success %}
    <div class="success-state">
        <div class="success-icon">âœ…</div>
        <div class="success-title">Import Successful!</div>
        <div class="success-text">{{ message }}</div>
        <a href="/tg/" class="btn btn-primary">Go to Dashboard</a>
    </div>
    {% else %}
    
    {% if error %}
    <div class="alert alert-error">{{ error }}</div>
    {% endif %}
    
    <div class="tabs">
        <button class="tab active" onclick="showTab('mnemonic')">ğŸ”‘ Seed Phrase</button>
        <button class="tab" onclick="showTab('private_key')">ğŸ” Private Key</button>
    </div>
    
    <!-- Mnemonic Import -->
    <form id="mnemonic-form" method="POST" action="/tg/import" class="import-form">
        <input type="hidden" name="import_type" value="mnemonic">
        
        <div class="form-group">
            <label class="form-label">Recovery Phrase (12 or 24 words)</label>
            <textarea 
                name="mnemonic" 
                class="form-input" 
                rows="4" 
                placeholder="Enter your seed phrase separated by spaces..."
                required
            ></textarea>
        </div>
        
        <div class="info-box">
            <p>ğŸ’¡ This will import wallets for all supported networks using your seed phrase.</p>
        </div>
        
        <button type="submit" class="btn btn-primary" onclick="haptic('medium')">
            ğŸ“¥ Import Wallets
        </button>
    </form>
    
    <!-- Private Key Import -->
    <form id="private_key-form" method="POST" action="/tg/import" class="import-form hidden">
        <input type="hidden" name="import_type" value="private_key">
        
        <div class="form-group">
            <label class="form-label">Select Network</label>
            <select name="network" class="form-input" required>
                <option value="">Choose network...</option>
                {% for network_id, config in networks.items() %}
                <option value="{{ network_id }}">{{ config.icon }} {{ config.name }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="form-group">
            <label class="form-label">Private Key</label>
            <input 
                type="password" 
                name="private_key" 
                class="form-input" 
                placeholder="Enter private key..."
                required
            >
        </div>
        
        <button type="submit" class="btn btn-primary" onclick="haptic('medium')">
            ğŸ“¥ Import Wallet
        </button>
    </form>
    
    <div class="alert alert-warning" style="margin-top: 20px;">
        âš ï¸ Never share your seed phrase or private key with anyone!
    </div>
    
    {% endif %}
</main>
{% endblock %}

{% block scripts %}
<script>
function showTab(tab) {
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
    document.querySelectorAll('.import-form').forEach(f => f.classList.add('hidden'));
    
    event.target.classList.add('active');
    document.getElementById(tab + '-form').classList.remove('hidden');
    
    haptic('light');
}
</script>
{% endblock %}