{% extends "tg/base.html" %}

{% block title %}{{ wallet.name }} - NEXUS{% endblock %}

{% block content %}
<div class="header">
    <div class="header-content">
        <div class="logo">
            <span class="logo-icon">{{ network.icon }}</span>
            <span>{{ network.name }}</span>
        </div>
    </div>
</div>

<main class="main">
    <a href="/tg/" class="back-link">â† Back</a>
    
    <!-- Balance Card -->
    <div class="wallet-balance-card">
        <div class="balance-network">{{ network.icon }} {{ network.name }}</div>
        <div class="balance-amount-large">{{ balance }}</div>
        <div class="balance-symbol-large">{{ network.symbol }}</div>
        <div class="balance-usd">â‰ˆ $0.00</div>
    </div>
    
    <!-- Quick Actions -->
    <div class="wallet-actions">
        <a href="/tg/send/{{ wallet.id }}" class="wallet-action" onclick="haptic('light')">
            <span class="action-icon">ğŸ“¤</span>
            <span>Send</span>
        </a>
        <a href="/tg/receive/{{ wallet.id }}" class="wallet-action" onclick="haptic('light')">
            <span class="action-icon">ğŸ“¥</span>
            <span>Receive</span>
        </a>
        <a href="/tg/swap" class="wallet-action" onclick="haptic('light')">
            <span class="action-icon">ğŸ’±</span>
            <span>Swap</span>
        </a>
    </div>
    
    <!-- Address Card -->
    <div class="info-card">
        <div class="info-label">Wallet Address</div>
        <div class="info-value-box" onclick="copyToClipboard('{{ wallet.address }}')">
            <code>{{ wallet.address }}</code>
            <span>ğŸ“‹</span>
        </div>
    </div>
    
    <!-- Explorer Link -->
    <a href="{{ network.explorer_url }}/address/{{ wallet.address }}" target="_blank" class="explorer-link">
        ğŸ”— View on {{ network.name }} Explorer
    </a>
    
    <!-- Transactions -->
    <div class="section">
        <div class="section-header">
            <span class="section-title">Transactions</span>
        </div>
        
        {% if transactions %}
        <div class="tx-list">
            {% for tx in transactions %}
            <div class="tx-item">
                <div class="tx-icon">
                    {% if tx.tx_type == 'send' %}ğŸ“¤{% else %}ğŸ“¥{% endif %}
                </div>
                <div class="tx-info">
                    <div class="tx-type">{{ tx.tx_type|capitalize }}</div>
                    <div class="tx-address">
                        {% if tx.to_address %}
                        {{ tx.to_address[:8] }}...{{ tx.to_address[-4:] }}
                        {% endif %}
                    </div>
                </div>
                <div class="tx-amount {% if tx.tx_type == 'send' %}negative{% else %}positive{% endif %}">
                    {% if tx.tx_type == 'send' %}-{% else %}+{% endif %}{{ tx.amount }}
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <div class="empty-state-small">
            <p>No transactions yet</p>
        </div>
        {% endif %}
    </div>
    
    <!-- Danger Zone -->
    <div class="danger-zone">
        <form method="POST" action="/tg/delete/{{ wallet.id }}" onsubmit="return confirmDelete()">
            <button type="submit" class="btn btn-danger">
                ğŸ—‘ï¸ Delete Wallet
            </button>
        </form>
    </div>
</main>
{% endblock %}

{% block scripts %}
<script>
function confirmDelete() {
    haptic('heavy');
    return confirm('Are you sure you want to delete this wallet? This action cannot be undone!');
}
</script>
{% endblock %}